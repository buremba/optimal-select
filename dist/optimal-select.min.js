!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OptimalSelect=t():e.OptimalSelect=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.root,n=void 0===r?document:r,o=[];e.forEach(function(e,t){for(var r=[];e!==n;)e=e.parentNode,r.unshift(e);o[t]=r}),o.sort(function(e,t){return e.length-t.length});for(var u=o.shift(),l=null,i=0,a=u.length;i<a;i++){if("break"===function(){var e=u[i];if(o.some(function(t){return!t.some(function(t){return t===e})}))return"break";l=e}())break}return l}function o(e){var t={classes:[],attributes:{},tag:null};return e.forEach(function(e){var r=t.classes,n=t.attributes,o=t.tag;if(void 0!==r){var u=e.getAttribute("class");u?(u=u.trim().split(" "),r.length?(r=r.filter(function(e){return u.some(function(t){return t===e})}),r.length?t.classes=r:delete t.classes):t.classes=u):delete t.classes}if(void 0!==n){var l=e.attributes,i=Object.keys(l).reduce(function(e,t){var r=l[t],n=r.name;return r&&"class"!==n&&(e[n]=r.value),e},{}),a=Object.keys(i),c=Object.keys(n);a.length?c.length?(n=c.reduce(function(e,t){var r=n[t];return r===i[t]&&(e[t]=r),e},{}),Object.keys(n).length?t.attributes=n:delete t.attributes):t.attributes=i:delete t.attributes}if(void 0!==o){var s=e.tagName.toLowerCase();o?s!==o&&delete t.tag:t.tag=s}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonAncestor=n,t.getCommonProperties=o},function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(t)||(t=t.length?(0,a.convertNodeList)(t):[t]),!t.length||t.some(function(e){return 1!==e.nodeType}))throw new Error('Invalid input - to compare HTMLElements its necessary to provide a reference of the selected node(s)! (missing "elements")');var n=((0,i.default)(t[0],r),e.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/));if(n.length<2)return o("",e,"",t);for(var u=[n.pop()];n.length>1;){var l=n.pop(),c=n.join(" "),s=u.join(" "),f=c+" "+s;document.querySelectorAll(f).length!==t.length&&u.unshift(o(c,l,s,t))}return u.unshift(n[0]),n=u,n[0]=o("",n[0],n.slice(1).join(" "),t),n[n.length-1]=o(n.slice(0,-1).join(" "),n[n.length-1],"",t),n.join(" ").replace(/>/g,"> ").trim()}function o(e,t,r,n){if(e.length&&(e+=" "),r.length&&(r=" "+r),/\[*\]/.test(t)){var o=t.replace(/=.*$/,"]"),l=""+e+o+r,i=document.querySelectorAll(l);if(u(i,n))t=o;else for(var a=document.querySelectorAll(""+e+o),c=0,s=a.length;c<s;c++){var l,i,f=function(){var o=a[c];if(n.some(function(e){return o.contains(e)})){var s=o.tagName.toLowerCase();return l=""+e+s+r,i=document.querySelectorAll(l),u(i,n)&&(t=s),"break"}}();if("break"===f)break}}if(/>/.test(t)){var m=t.replace(/>/,""),l=""+e+m+r,i=document.querySelectorAll(l);u(i,n)&&(t=m)}if(/:nth-child/.test(t)){var d=t.replace(/nth-child/g,"nth-of-type"),l=""+e+d+r,i=document.querySelectorAll(l);u(i,n)&&(t=d)}if(/\.\S+\.\S+/.test(t)){for(var p=t.trim().split(".").slice(1).map(function(e){return"."+e}).sort(function(e,t){return e.length-t.length});p.length;){var v=t.replace(p.shift(),"").trim(),l=(""+e+v+r).trim();if(!l.length||">"===l.charAt(0)||">"===l.charAt(l.length-1))break;var i=document.querySelectorAll(l);u(i,n)&&(t=v)}if((p=t&&t.match(/\./g))&&p.length>2)for(var g=document.querySelectorAll(""+e+t),c=0,s=g.length;c<s;c++){var l,i,h=function(){var o=g[c];if(n.some(function(e){return o.contains(e)})){var a=o.tagName.toLowerCase();return l=""+e+a+r,i=document.querySelectorAll(l),u(i,n)&&(t=a),"break"}}();if("break"===h)break}}return t}function u(e,t){var r=e.length;return r===t.length&&t.every(function(t){for(var n=0;n<r;n++)if(e[n]===t)return!0;return!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var l=r(2),i=function(e){return e&&e.__esModule?e:{default:e}}(l),a=r(3);e.exports=t.default},function(e,t,r){"use strict";function n(e,t){return!1}Object.defineProperty(t,"__esModule",{value:!0});!function(){function e(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}}();t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e){for(var t=e.length,r=new Array(t),n=0;n<t;n++)r[n]=e[n];return r}function o(e){return e&&e.replace(/['"`\\\/:\?&!#$%^()[\]{|}*+;,.<=>@~]/g,"\\$&").replace(/\n/g,"A")}Object.defineProperty(t,"__esModule",{value:!0}),t.convertNodeList=n,t.escapeValue=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(3===e.nodeType&&(e=e.parentNode),1!==e.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+(void 0===e?"undefined":a(e))+'")');var r=((0,s.default)(e,t),(0,m.default)(e,t));return(0,p.default)(r,e,t)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)||(e=(0,v.convertNodeList)(e)),e.some(function(e){return 1!==e.nodeType}))throw new Error("Invalid input - only an Array of HTMLElements or representations of them is supported!");var r=((0,s.default)(e[0],t),(0,g.getCommonAncestor)(e,t)),n=o(r,t),u=l(e),i=u[0],a=(0,p.default)(n+" "+i,e,t),c=(0,v.convertNodeList)(document.querySelectorAll(a));return e.every(function(e){return c.some(function(t){return t===e})})?a:console.warn("\n      The selected elements can't be efficiently mapped.\n      Its probably best to use multiple single selectors instead!\n    ",e)}function l(e){var t=(0,g.getCommonProperties)(e),r=t.classes,n=t.attributes,o=t.tag,u=[];if(o&&u.push(o),r){var l=r.map(function(e){return"."+e}).join("");u.push(l)}if(n){var i=Object.keys(n).reduce(function(e,t){return e.push("["+t+'="'+n[t]+'"]'),e},[]).join("");u.push(i)}return u.length,[u.join("")]}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.length&&!e.name?u(e,t):o(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getSingleSelector=o,t.getMultiSelector=u,t.default=i;var c=r(2),s=n(c),f=r(6),m=n(f),d=r(1),p=n(d),v=r(3),g=r(0)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.common=t.optimize=t.getMultiSelector=t.getSingleSelector=t.select=void 0;var o=r(4);Object.defineProperty(t,"getSingleSelector",{enumerable:!0,get:function(){return o.getSingleSelector}}),Object.defineProperty(t,"getMultiSelector",{enumerable:!0,get:function(){return o.getMultiSelector}});var u=n(o),l=r(1),i=n(l),a=r(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a);t.select=u.default,t.optimize=i.default,t.common=c,t.default=u.default},function(e,t){throw new Error("Module build failed: SyntaxError: Unexpected token (173:23)\n\n[0m [90m 171 | [39m      [36mif[39m (attributeName [33m===[39m [32m'class'[39m) {\n [90m 172 | [39m        [36mvar[39m classes [33m=[39m attributeValue[33m.[39mtrim()[33m;[39m\n[31m[1m>[22m[39m[90m 173 | [39m        [36mconst[39m className[33m;[39m\n [90m     | [39m                       [31m[1m^[22m[39m\n [90m 174 | [39m        [36mif[39m(ignore[33m.[39mignoreClass) {\n [90m 175 | [39m           className [33m=[39m ignore[33m.[39mignoreClass[33m.[39msplit([35m/\\s+/g[39m)[33m.[39mfilter(ignore[33m.[39mignoreClass)[33m.[39mjoin([32m'.'[39m)\n [90m 176 | [39m        } [36melse[39m {[0m\n")}])});
//# sourceMappingURL=optimal-select.min.js.map